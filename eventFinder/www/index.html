<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">

    <!--<meta http-equiv="Content-Security-Policy"
          content="default-src 'self' data: gap: https://ssl.gstatic.com
              http://127.0.0.1:8100 http://localhost:8100
              http://*******************/
              https://*.tile.openstreetmap.org https://*.tile.osm.org
              http://*.tile.openstreetmap.org http://*.tile.osm.org
              'unsafe-eval';
              style-src 'self' 'unsafe-inline';
              script-src 'self' 'unsafe-inline';
              media-src *">
        
    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="viewport"
          content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">-->

    <link rel="stylesheet" type="text/css" href="downloads/jquery-mobile/jquery.mobile-1.4.5.min.css">
    <link rel="stylesheet" type="text/css" href="downloads/font-awesome-4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="downloads/leaflet-1.0.3/leaflet.css">
    <link rel="stylesheet" type="text/css" href="downloads/leaflet.extramarkers/css/leaflet.extra-markers.min.css">
    <link rel="stylesheet" type="text/css" href="css/index.css">
    <link rel="stylesheet" type="text/css" href="css/style1.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <link href="assets/ratchet/css/ratchet.css" rel="stylesheet">
    <link href="assets/css/styles.css" rel="stylesheet">
    <link href="assets/css/pageslider.css" rel="stylesheet">
    <!--<link rel="stylesheet" type="text/css" href="css/index.css">
    <link rel="stylesheet" type="text/css" href="css/style1.css">-->
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.12.3.js"></script>

    <script src="downloads/jquery/jquery-1.12.4.js"></script>
    <script src="downloads/jquery-mobile/jquery.mobile-1.4.5.min.js"></script>
    <script src="downloads/leaflet-1.0.3/leaflet.js"></script>
    <script src="downloads/leaflet.extramarkers/js/leaflet.extra-markers.min.js"></script>
    <script type="text/javascript" src="cordova.js"></script>
</head>
<body>

<script id="login-tpl" type="text/template">
    <header class="bar bar-nav">
        <h1 class="title">Events</h1>
    </header>
    <div class="content">
         <div style="text-align:center">
            <br>
            <br>
            <p>Welcome to Events where things happen</p>
            <br>
            <br>
        </div>
        <input name="username" type="text" placeholder="username" />
        <input name="password" type="password" placeholder="password" />

        <div class="card">
            <ul class="table-view">
                <li class="table-view-cell media">
                     <a class="login-button" id="login-button" style="text-align:center" >Login</a>
                </li>
                <li class="table-view-cell media">
                     <a href="#signup" class="icon pencil" style="text-align:center">Register</a>
                </li>
            </ul>
        </div>
    </div>
</script>

<script id="home-tpl" type="text/template">
    <header class="bar bar-nav">
        <h1 class="title">Events</h1>
    </header>
    <div class="bar bar-standard bar-header-secondary">
        <input class='search-key' type="search"/>
    </div>
    <div class="content"></div>
</script>

<script id="employee-loc-tpl" type="text/template">
    <header class="bar bar-nav">
        <a class="btn btn-link btn-nav pull-left" href="#">
            <span class="icon icon-left-nav"></span>
        </a>
        <h1 class="title">Employee Location</h1>
    </header>
    <div class="content">
        <button onclick="showMap()">Load Map</button>
        <button onclick="hideMap()">Hide Map</button>
    </div>
</script>

<script id="location-view" type="text/template">
    <div id="map_canvas" class="map_canvas" style="width:100%;height:400px;">
</script>

<script id="employee-list-tpl" type="text/template">
    <ul class="table-view">
        {{#each this}}
        <li class="table-view-cell media">
            <a href="#employees/{{ id }}">
                <img class="media-object pull-left" src="assets/pics/{{pic}}">
                <div class="media-body">
                    {{firstName}} {{lastName}}
                    <p>{{title}}</p>
                </div>
            </a>
        </li>
        {{/each}}
    </ul>
</script>

<script id="employee-tpl" type="text/template">
    <header class="bar bar-nav">
        <a class="btn btn-link btn-nav pull-left" href="#">
            <span class="icon icon-left-nav"></span>
        </a>
        <h1 class="title">Employee</h1>
    </header>
    <div class="content">
        <div class="card">
            <ul class="table-view">
                <li class="table-view-cell media">
                    <img class="media-object pull-left" src="assets/pics/{{pic}}">
                    <div class="media-body">
                        {{ firstName }} {{ lastName }}
                        <p>{{ title }}</p>
                    </div>
                </li>
                <li class="table-view-cell media">
                    <a href="tel:{{ officePhone }}" class="push-right">
                        <span class="media-object pull-left icon icon-call"></span>
                        <div class="media-body">
                            Call Office
                            <p>{{ officePhone }}</p>
                        </div>
                    </a>
                </li>
                <li class="table-view-cell media">
                    <a href="tel:{{ cellPhone }}" class="push-right">
                        <span class="media-object pull-left icon icon-call"></span>
                        <div class="media-body">
                            Call Cell
                            <p>{{ cellPhone }}</p>
                        </div>
                    </a>
                </li>
                <li class="table-view-cell media">
                    <a href="sms:{{ cellPhone }}" class="push-right">
                        <span class="media-object pull-left icon icon-sms"></span>
                        <div class="media-body">
                            SMS
                            <p>{{ cellPhone }}</p>
                        </div>
                    </a>
                </li>
                <li class="table-view-cell media">
                    <a href="mailto:{{ email }}" class="push-right">
                        <span class="media-object pull-left icon icon-mail"></span>
                        <div class="media-body">
                            Email
                            <p>{{ email }}</p>
                        </div>
                    </a>
                </li>
                <li class="table-view-cell media">
                    <a hre="#" class="push-right add-location-btn">
                        <span class="media-object pull-left"></span>
                        <div class="media-body">
                            Add location
                        </div>
                    </a>
                </li>
                <li class="table-view-cell media">
                    <a hre="#" class="push-right add-contact-btn">
                        <span class="media-object pull-left"></span>
                        <div class="media-body">
                            Add to contacts
                        </div>
                    </a>
                </li>
                <li class="table-view-cell media">
                    <a hre="#" class="push-right change-pic-btn">
                        <span class="media-object pull-left"></span>
                        <div class="media-body">
                            Change Picture
                        </div>
                    </a>
                </li>
                 <li class="table-view-cell media">
                    <a href="#location/employees/" class="push-right">
                        <span class="media-object pull-left"></span>
                        <div class="media-body">
                            View location
                        </div>
                    </a>
                </li>
            </ul>
        </div>
    </div>
</script>
<script>
  var zoom = 10;

  function setCenter() {
    Mapbox.setCenter({
      'lat': 50.2222,
      'lng': 5.2344,
      'animated': true // default false
    });
  }

  function getCenter() {
    Mapbox.getCenter(function (c) {
      alert(JSON.stringify(c))
    });
  }

  function getZoomLevel() {
    Mapbox.getZoomLevel(function (zl) {
      alert(zl)
    });
  }

  function showMap() {
    Mapbox.show({
          style: 'emerald',
          margins: {
            'left': 0,
            'right': 0,
            'top': 100,
            'bottom': 100
          },
          center: {
            lat: 52.3702160,
            lng: 4.8951680
          },
          zoomLevel: zoom, // 0 (the entire world) to 20, default 10
          showUserLocation: true, // default false
          hideAttribution: true, // default false
          hideLogo: true, // default false
          hideCompass: false, // default false
          disableRotation: false, // default false
          disableScroll: false, // default false
          disableZoom: false, // default false
          disablePitch: false, // default false
          markers: [
            {
              'lat': 52.3732160,
              'lng': 4.8941680,
              'title': 'Nice location',
              'subtitle': 'Really really nice location',
              'image': 'www/img/markers/hi.jpg' // TODO support this on a rainy day
            },
            {
              'lat': 51.503364051,
              'lng': -0.1276250,
              'title': 'My location',
              'subtitle': 'Really really nice location',
              'image': 'www/img/markers/hi.jpg' // TODO support this on a rainy day
            }
          ]
        },
        function (result) {
          console.log(JSON.stringify(result));
          // let's add a callback for these markers - invoked when the callout is tapped (Android) or the (i) icon in the marker callout (iOS)
          Mapbox.addMarkerCallback(function (selectedMarker) {
            alert("Marker selected: " + JSON.stringify(selectedMarker));
          });
        },
        function (error) {
          alert(error);
        }
    )
  }

  function hideMap() {
    Mapbox.hide({},
        function (result) {
          console.log(JSON.stringify(result));
        },
        function (error) {
          alert(error);
        }
    )
  }

  function addGeoJSON() {
    Mapbox.addGeoJSON({
      'url': 'https://gist.githubusercontent.com/tmcw/10307131/raw/21c0a20312a2833afeee3b46028c3ed0e9756d4c/map.geojson'
    });
  }

  function addMarkers() {
    Mapbox.addMarkers([
          {
            'lat': 52.3602160,
            'lng': 4.8891680,
            'title': 'One-line title here', // no popup unless set
            'subtitle': 'This text can span multiple lines on Android only. On iOS it\'s one line max.',
            'image': 'www/img/markers/hi.jpg' // TODO support this on a rainy day
          },
          {
            'lat': 52.3702160,
            'lng': 4.8911680,
            'title': 'Nu subtitle for this one' // iOS: no popup unless set, Android: an empty popup -- so please add something
          }
        ],
        function (result) {
          console.log(JSON.stringify(result));
        },
        function (error) {
          alert(error)
        }
    )
  }

</script>

<script src="cordova.js"></script>
<script src="lib/fastclick.js"></script>
<script src="lib/handlebars.js"></script>
<script src="lib/jquery.js"></script>
<script src="lib/pageslider.js"></script>
<script src="lib/router.js"></script>
<script src="js/services/memory/EmployeeService.js"></script>
<script src="js/EmployeeListView.js"></script>
<script src="js/HomeView.js"></script>
<script src="js/EmployeeView.js"></script>
<script src="js/EmployeeLocView.js"></script>
<script src="js/LoginView.js"></script>
<script src="js/app.js"></script>
</body>
</html>